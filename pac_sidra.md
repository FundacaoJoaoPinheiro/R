PAC SIDRA
================
Michel Rodrigo - <michel.alves@fjp.mg.gov.br>
22 de junho de 2021

Importação e manipulação da tabela 1407 do SIDRA - Pesquisa Anual de
COmércio - IBGE

Se quiser executar código inline, use o acento grave: dois mais dois
igual a 4

# Opções de visualização

Para configurar as opções de visualização do código, faça como a seguir:
\#+ r setup, warning = FALSE

Outras opções:

-   eval = TRUE - executa o código e inclui o resultado
-   echo = TRUE - exibe o código e seu resultado
-   warning = FALSE - exibe as mensagens de aviso
-   error = FALSE - exibe as mensagens de erro
-   tidy = FALSE - exibe o código em um formato mais compacto

As configurações acima devem ser colocadas antes de cada bloco de
código. caso deseje fazer configurações globais, use

``` r
options(warn=-1)
```

# Estrutura do script

## Inicialização

Limpa a memória e console

``` r
rm(list = ls())
```

Altera a pasta de trabalho para a mesma onde o script está salvo

``` r
dir <- dirname(rstudioapi::getActiveDocumentContext()$path)
setwd(dir)
```

## Bibliotecas

Bibliotecas necessárias

``` r
pacotes <- c("data.table", "forcats", "magrittr",
                "ggplot2", "plotly", "RColorBrewer")
```

Verifica se alguma das bibliotecas necessárias ainda não foi instalada

``` r
pacotes_instalados <- pacotes %in% rownames(installed.packages())
if (any(pacotes_instalados == FALSE)) {
  install.packages(pacotes[!pacotes_instalados])
}
```

carrega as bibliotecas

``` r
lapply(pacotes, library, character.only=TRUE)
```

    ## 
    ## Attaching package: 'plotly'

    ## The following object is masked from 'package:ggplot2':
    ## 
    ##     last_plot

    ## The following object is masked from 'package:stats':
    ## 
    ##     filter

    ## The following object is masked from 'package:graphics':
    ## 
    ##     layout

    ## [[1]]
    ## [1] "data.table" "stats"      "graphics"   "grDevices"  "utils"     
    ## [6] "datasets"   "methods"    "base"      
    ## 
    ## [[2]]
    ## [1] "forcats"    "data.table" "stats"      "graphics"   "grDevices" 
    ## [6] "utils"      "datasets"   "methods"    "base"      
    ## 
    ## [[3]]
    ##  [1] "magrittr"   "forcats"    "data.table" "stats"      "graphics"  
    ##  [6] "grDevices"  "utils"      "datasets"   "methods"    "base"      
    ## 
    ## [[4]]
    ##  [1] "ggplot2"    "magrittr"   "forcats"    "data.table" "stats"     
    ##  [6] "graphics"   "grDevices"  "utils"      "datasets"   "methods"   
    ## [11] "base"      
    ## 
    ## [[5]]
    ##  [1] "plotly"     "ggplot2"    "magrittr"   "forcats"    "data.table"
    ##  [6] "stats"      "graphics"   "grDevices"  "utils"      "datasets"  
    ## [11] "methods"    "base"      
    ## 
    ## [[6]]
    ##  [1] "RColorBrewer" "plotly"       "ggplot2"      "magrittr"     "forcats"     
    ##  [6] "data.table"   "stats"        "graphics"     "grDevices"    "utils"       
    ## [11] "datasets"     "methods"      "base"

## Importação dos dados

Verifica se os dados já não foram baixados

``` r
entrada  <- if (file.exists("tab_1407.csv")) {
  "tab_1407.csv"
} else {
  "https://sidra.ibge.gov.br/geratabela?format=us.csv&name=tabela1407.csv&terr=N&rank=-&query=t/1407/n1/all/v/312/p/all/c12354/all/c11066/allxt/l/,,p%2Bt%2Bc12354%2Bv%2Bc11066"
}
```

Realiza a importação da tabela

``` r
tab_1407 <- fread(entrada,
                  integer64 = "numeric",
                  na.strings = c('"-"','"X"'),
                  colClasses = c(list("factor" = c(1:5))),
                  col.names = c("Ano", "Brasil", "Territorio",
                                "Var", "Divisao", "Valor"),
                  encoding = "UTF-8")
```

## Manipulação dos dados

### EXEMPLO 1

1 Região, 1 Variável (Pessoal ocupado) e “N” Divisões de comércio

Realiza a filtragem dos dados

``` r
n_divisao <- tab_1407[Territorio %like% "Minas"][, Rank := frank(-Valor, na.last = "keep"), by = Ano]
```

### EXEMPLO 2

“N” Territórios, 1 Variável(Pessoal ocupado) e 1 Divisão Realiza a
filtragem dos dados

``` r
n_territorio <- tab_1407[Territorio %like% "Minas|Janeiro|Paulo|Sudeste" &
                           Divisao %like% "varejista"]
```

### EXEMPLO 3

Todos os Estados, 1 Variável, 2 Divisões (em formato wide) e 6 anos

``` r
wide_div <- tab_1407[!(Territorio %like% "Brasil|Região") &
                       Divisao %like% "veículos,|4.4Combustíveis" &
                       Ano %in% as.factor(2013:2018)] %>%
  dcast(Ano + Territorio ~ Divisao, value.var = "Valor")
```

Simplifica os nomes de colunas

``` r
colnames(wide_div)[3:4] = c("Comercio.de.veiculos", "Combustiveis")
```

Cria colunas de rank

``` r
wide_div[, `:=` (Rank_V = frank(-Comercio.de.veiculos, na.last = "keep"),
                 Rank_C = frank(-Combustiveis, na.last = "keep")),
         by = .(Ano, Territorio)]
```

## Visualização

### Gráfico de bolhas

As 10 maiores Divisao’s por Variável, Estado e Ano.

CANE’s em ordem crescente

``` r
n_divisao$Divisao <- forcats::fct_reorder(n_divisao$Divisao, -n_divisao$Rank)

g_bolha <-  n_divisao[Rank <= 10] %>%
  ggplot(aes(x = Ano, y = Divisao, text = paste("Rank: ", Rank))) +
  geom_point(
    aes(size = Valor, color = as.factor(Rank)),
    show.legend = F
  ) +
  scale_size(range = c(3, 12)) +
  scale_color_brewer(palette = "Paired") +
  labs(y = "Divisão de comércio e grupo de atividade") 

# visualizar com o plotly
ggplotly(g_bolha, tooltip = c("text", "y", "size")) %>% hide_guides()
```

<div id="htmlwidget-e4142830e924dcaf3f1d" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e4142830e924dcaf3f1d">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[11,11,11,11,11,11,11,11,11,11,11,11],"text":["Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 627032","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 627384","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 701934","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 739463","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 772830","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 836477","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 865816","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 901919","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 883993","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 882570","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 854352","Divisao: 4.Comércio varejista<br />Rank:  1<br />Valor: 847109"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(166,206,227,1)","opacity":1,"size":[39.4453104990448,39.4536712987657,41.1716510831875,42.0000901780869,42.7182926235162,44.0445475373223,44.6381219674646,45.3543307086614,45.0006207575645,44.9723832266013,44.4074553319792,44.2608861560159],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(166,206,227,1)"},"showscale":false},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[10,10,10,10,10,10,10,10,10,10,10,10],"text":["Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 243143","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 263198","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 274727","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 281207","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 304785","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 358757","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 360450","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 363500","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 348121","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 340201","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 325710","Divisao: 4.6Comércio de outros produtos em lojas especializadas<br />Rank:  2<br />Valor: 316028"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,120,180,1)","opacity":1,"size":[27.9922418137097,28.7777835437591,29.213747176633,29.4541801318129,30.3033087502711,32.1168121752535,32.1711448404684,32.2686711552381,31.7721714606369,31.5117136998738,31.0262436267672,30.6950981390437],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,120,180,1)"},"showscale":false},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[8,8,8,9,9,9,9,9,9,9,9,9],"text":["Divisao: 3.Comércio por atacado<br />Rank:  3<br />Valor: 132500","Divisao: 3.Comércio por atacado<br />Rank:  3<br />Valor: 143931","Divisao: 3.Comércio por atacado<br />Rank:  3<br />Valor: 150146","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 184295","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 193682","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 195874","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 206132","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 209051","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 217442","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 225196","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 228808","Divisao: 4.1Comércio não-especializado<br />Rank:  3<br />Valor: 230261"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(178,223,138,1)","opacity":1,"size":[22.7224377834523,23.3742408354474,23.7142262019496,25.4367735651165,25.8745500468031,25.9748914715428,26.435603111266,26.5641548023889,26.9277889850288,27.2564346964202,27.4072311206245,27.4674943888301],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(178,223,138,1)"},"showscale":false},"hoveron":"points","name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[9,9,9,8,8,8,8,8,8,8,8,8],"text":["Divisao: 4.1Comércio não-especializado<br />Rank:  4<br />Valor: 123799","Divisao: 4.1Comércio não-especializado<br />Rank:  4<br />Valor: 134262","Divisao: 4.1Comércio não-especializado<br />Rank:  4<br />Valor: 146308","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 160155","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 159477","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 168480","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 177583","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 184928","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 178605","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 167173","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 168648","Divisao: 3.Comércio por atacado<br />Rank:  4<br />Valor: 167625"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(51,160,44,1)","opacity":1,"size":[22.2001146865837,22.825319577122,23.5053942271439,24.2429435657753,24.2078146488768,24.6667371099676,25.1152226599337,25.4667209798787,25.1646661354995,24.6010989609956,24.6751507173793,24.6238352947625],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(51,160,44,1)"},"showscale":false},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[7,7,7,7,7,7,7,7,7,6,6,6],"text":["Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 112077","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 121410","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 136294","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 128075","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 142262","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 136685","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 137640","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 165509","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  5<br />Valor: 152358","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  5<br />Valor: 152469","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  5<br />Valor: 156780","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  5<br />Valor: 162735"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,154,153,1)","opacity":1,"size":[21.4538862895412,22.0522476360614,22.9428340111539,22.4598699382585,23.2812913980252,22.9653100244735,23.0200248769614,24.5170590476153,23.8329993631571,23.8389297629494,24.0671163269128,24.3757545827334],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(251,154,153,1)"},"showscale":false},"hoveron":"points","name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[4,5,6,6,6,6,6,6,6,7,7,7],"text":["Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  6<br />Valor:  95461","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  6<br />Valor:  96538","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  6<br />Valor:  95494","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  6<br />Valor: 104222","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  6<br />Valor: 110101","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  6<br />Valor: 119779","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  6<br />Valor: 134514","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  6<br />Valor: 134798","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  6<br />Valor: 135699","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  6<br />Valor: 147023","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  6<br />Valor: 137371","Divisao: 4.3Tecidos, artigos de armarinho, vestuário e calçados<br />Rank:  6<br />Valor: 134050"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(227,26,28,1)","opacity":1,"size":[20.2901428399493,20.3701191302256,20.2926039755398,20.9213710286644,21.3226011530033,21.9501134895847,22.839958436994,22.85643390023,22.9085476070194,23.5445693780326,23.004639010708,22.8129898811908],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(227,26,28,1)"},"showscale":false},"hoveron":"points","name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[6,6,5,5,5,5,5,5,5,4,4,4],"text":["Divisao: 4.1.1Hiper/Supermercado<br />Rank:  7<br />Valor:  78948","Divisao: 4.1.1Hiper/Supermercado<br />Rank:  7<br />Valor:  85322","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  7<br />Valor:  90856","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  7<br />Valor:  92866","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  7<br />Valor: 100528","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  7<br />Valor: 105327","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  7<br />Valor: 103773","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  7<br />Valor: 116359","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  7<br />Valor: 107445","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  7<br />Valor: 106041","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  7<br />Valor:  97731","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  7<br />Valor: 107140"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(253,191,111,1)","opacity":1,"size":[18.9595430694148,19.4989043983675,19.9397995302421,20.0944422613524,20.6604322916714,20.9980570432517,20.890034914534,21.7326931392451,21.1433679113095,21.047285869779,20.4578906541567,21.1225756118768],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(253,191,111,1)"},"showscale":false},"hoveron":"points","name":"7","legendgroup":"7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[5,4,4,4,3,4,4,4,4,5,5,5],"text":["Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  8<br />Valor:  66651","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  8<br />Valor:  49297","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  8<br />Valor:  83601","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  8<br />Valor:  82916","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  8<br />Valor:  83581","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  8<br />Valor:  82010","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  8<br />Valor:  91324","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  8<br />Valor:  94376","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  8<br />Valor:  98757","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  8<br />Valor: 102052","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  8<br />Valor:  88606","Divisao: 2.Comércio de veículos, peças e motocicletas<br />Rank:  8<br />Valor:  98061"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,0,1)","opacity":1,"size":[17.7928583338363,15.6377935670331,19.3568514614116,19.2996057347594,19.3551858467729,19.2232525791193,19.9760531762251,20.208843373782,20.5327054816922,20.7689603761564,19.7633254411808,20.4820206857727],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,127,0,1)"},"showscale":false},"hoveron":"points","name":"8","legendgroup":"8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[3,3,3,3,4,3,3,3,3,3,3,3],"text":["Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  44851","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  48940","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  50814","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  80073","Divisao: 4.2Produtos alimentícios, bebidas e fumo<br />Rank:  9<br />Valor:  72693","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  76095","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  71618","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  74253","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  81743","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  72727","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  72028","Divisao: 4.1.2Outros tipos de comércio não-especializado<br />Rank:  9<br />Valor:  67526"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(202,178,214,1)","opacity":1,"size":[14.8806222344044,15.5819867292166,15.8672701045123,19.0574788195646,18.3902587981887,18.7053426756389,18.2877254698083,18.5364541456895,19.2006096909029,18.3934774017865,18.3270086702194,17.8827515045264],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(202,178,214,1)"},"showscale":false},"hoveron":"points","name":"9","legendgroup":"9","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[2,2,2,2,1,1,2,2,2,2,2,2],"text":["Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  35456","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  39898","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  39968","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  40733","Divisao: 3.3Produtos alimentícios, bebidas e fumo<br />Rank:  10<br />Valor:  39935","Divisao: 3.3Produtos alimentícios, bebidas e fumo<br />Rank:  10<br />Valor:  42781","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  45617","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  48051","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  48926","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  46486","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  49846","Divisao: 4.4Combustíveis e lubrificantes<br />Rank:  10<br />Valor:  44559"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(106,61,154,1)","opacity":1,"size":[11.3385826771654,13.7741172113119,13.7932325866467,13.9931794489588,13.784239667488,14.4661655726823,15.0221892608844,15.4397180099771,15.5797832627007,15.1764748691231,15.7222280334562,14.8251438239382],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(106,61,154,1)"},"showscale":false},"hoveron":"points","name":"10","legendgroup":"10","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":341.187214611872},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,12.6],"tickmode":"array","ticktext":["2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12],"categoryorder":"array","categoryarray":["2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Ano","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,11.6],"tickmode":"array","ticktext":["3.3Produtos alimentícios, bebidas e fumo","4.4Combustíveis e lubrificantes","4.1.2Outros tipos de comércio não-especializado","4.2Produtos alimentícios, bebidas e fumo","2.Comércio de veículos, peças e motocicletas","4.1.1Hiper/Supermercado","4.3Tecidos, artigos de armarinho, vestuário e calçados","3.Comércio por atacado","4.1Comércio não-especializado","4.6Comércio de outros produtos em lojas especializadas","4.Comércio varejista"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11],"categoryorder":"array","categoryarray":["3.3Produtos alimentícios, bebidas e fumo","4.4Combustíveis e lubrificantes","4.1.2Outros tipos de comércio não-especializado","4.2Produtos alimentícios, bebidas e fumo","2.Comércio de veículos, peças e motocicletas","4.1.1Hiper/Supermercado","4.3Tecidos, artigos de armarinho, vestuário e calçados","3.Comércio por atacado","4.1Comércio não-especializado","4.6Comércio de outros produtos em lojas especializadas","4.Comércio varejista"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Divisão de comércio e grupo de atividade","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":1},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"2aa02a611701":{"x":{},"y":{},"text":{},"size":{},"colour":{},"type":"scatter"}},"cur_data":"2aa02a611701","visdat":{"2aa02a611701":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly",".hideLegend":true},"evals":[],"jsHooks":[]}</script>

## Gráfico de correlação

### Série Histórica

elaboração do gráfico

``` r
serie_h <- n_divisao %>%
  ggplot(aes(x = Ano, y = Valor/1000)) +
  geom_line(aes(color = Divisao, group = Divisao)) +
  ylab("Divisão de comércio e grupo de atividade")

# visualizar
ggplotly(serie_h, tooltip = c("color", "y", "x")) %>% hide_guides()
```

<div id="htmlwidget-8c17b8bafc1e9a56982d" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8c17b8bafc1e9a56982d">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[0.924,0.711,0.737,0.756,0.928,0.847,0.982,0.951,0.914,0.785,0.681,0.795],"text":["Ano: 2007<br />Valor/1000:   0.924","Ano: 2008<br />Valor/1000:   0.711","Ano: 2009<br />Valor/1000:   0.737","Ano: 2010<br />Valor/1000:   0.756","Ano: 2011<br />Valor/1000:   0.928","Ano: 2012<br />Valor/1000:   0.847","Ano: 2013<br />Valor/1000:   0.982","Ano: 2014<br />Valor/1000:   0.951","Ano: 2015<br />Valor/1000:   0.914","Ano: 2016<br />Valor/1000:   0.785","Ano: 2017<br />Valor/1000:   0.681","Ano: 2018<br />Valor/1000:   0.795"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"4.7Comércio de artigos usados","legendgroup":"4.7Comércio de artigos usados","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[1.273,1.473,1.499,1.689,1.482,1.623,1.699,1.831,1.805,1.663,1.536,1.293],"text":["Ano: 2007<br />Valor/1000:   1.273","Ano: 2008<br />Valor/1000:   1.473","Ano: 2009<br />Valor/1000:   1.499","Ano: 2010<br />Valor/1000:   1.689","Ano: 2011<br />Valor/1000:   1.482","Ano: 2012<br />Valor/1000:   1.623","Ano: 2013<br />Valor/1000:   1.699","Ano: 2014<br />Valor/1000:   1.831","Ano: 2015<br />Valor/1000:   1.805","Ano: 2016<br />Valor/1000:   1.663","Ano: 2017<br />Valor/1000:   1.536","Ano: 2018<br />Valor/1000:   1.293"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(236,130,57,1)","dash":"solid"},"hoveron":"points","name":"3.6Comércio de equipamentos e produtos de tecnologia de informação e comunicação","legendgroup":"3.6Comércio de equipamentos e produtos de tecnologia de informação e comunicação","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[3.85,4.242,3.962,4.111,4.272,4.706,4.798,4.699,4.527,4.74,4.6,4.477],"text":["Ano: 2007<br />Valor/1000:   3.850","Ano: 2008<br />Valor/1000:   4.242","Ano: 2009<br />Valor/1000:   3.962","Ano: 2010<br />Valor/1000:   4.111","Ano: 2011<br />Valor/1000:   4.272","Ano: 2012<br />Valor/1000:   4.706","Ano: 2013<br />Valor/1000:   4.798","Ano: 2014<br />Valor/1000:   4.699","Ano: 2015<br />Valor/1000:   4.527","Ano: 2016<br />Valor/1000:   4.740","Ano: 2017<br />Valor/1000:   4.600","Ano: 2018<br />Valor/1000:   4.477"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(219,142,0,1)","dash":"solid"},"hoveron":"points","name":"3.5.1Combustíveis e lubrificantes","legendgroup":"3.5.1Combustíveis e lubrificantes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[9.607,8.528,7.436,7.971,8.53,10.012,11.13,11.838,12.319,12.828,13.527,14.078],"text":["Ano: 2007<br />Valor/1000:   9.607","Ano: 2008<br />Valor/1000:   8.528","Ano: 2009<br />Valor/1000:   7.436","Ano: 2010<br />Valor/1000:   7.971","Ano: 2011<br />Valor/1000:   8.530","Ano: 2012<br />Valor/1000:  10.012","Ano: 2013<br />Valor/1000:  11.130","Ano: 2014<br />Valor/1000:  11.838","Ano: 2015<br />Valor/1000:  12.319","Ano: 2016<br />Valor/1000:  12.828","Ano: 2017<br />Valor/1000:  13.527","Ano: 2018<br />Valor/1000:  14.078"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(199,152,0,1)","dash":"solid"},"hoveron":"points","name":"3.2Comércio de matérias-primas agrícolas e animais vivos","legendgroup":"3.2Comércio de matérias-primas agrícolas e animais vivos","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[9.607,9.861,10.32,11.751,12.983,13.538,13.588,13.992,13.221,13.328,13.873,14.187],"text":["Ano: 2007<br />Valor/1000:   9.607","Ano: 2008<br />Valor/1000:   9.861","Ano: 2009<br />Valor/1000:  10.320","Ano: 2010<br />Valor/1000:  11.751","Ano: 2011<br />Valor/1000:  12.983","Ano: 2012<br />Valor/1000:  13.538","Ano: 2013<br />Valor/1000:  13.588","Ano: 2014<br />Valor/1000:  13.992","Ano: 2015<br />Valor/1000:  13.221","Ano: 2016<br />Valor/1000:  13.328","Ano: 2017<br />Valor/1000:  13.873","Ano: 2018<br />Valor/1000:  14.187"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(174,162,0,1)","dash":"solid"},"hoveron":"points","name":"3.7Comércio de máquinas, aparelhos e equipamentos (exceto de tecnologia de informação e comunicação)","legendgroup":"3.7Comércio de máquinas, aparelhos e equipamentos (exceto de tecnologia de informação e comunicação)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[9.214,13.074,14.357,14.439,10.449,10.946,13.42,15.418,17.267,17.616,16.429,15.077],"text":["Ano: 2007<br />Valor/1000:   9.214","Ano: 2008<br />Valor/1000:  13.074","Ano: 2009<br />Valor/1000:  14.357","Ano: 2010<br />Valor/1000:  14.439","Ano: 2011<br />Valor/1000:  10.449","Ano: 2012<br />Valor/1000:  10.946","Ano: 2013<br />Valor/1000:  13.420","Ano: 2014<br />Valor/1000:  15.418","Ano: 2015<br />Valor/1000:  17.267","Ano: 2016<br />Valor/1000:  17.616","Ano: 2017<br />Valor/1000:  16.429","Ano: 2018<br />Valor/1000:  15.077"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(143,170,0,1)","dash":"solid"},"hoveron":"points","name":"3.1Representantes e agentes do comércio (exceto de veículos e motocicletas)","legendgroup":"3.1Representantes e agentes do comércio (exceto de veículos e motocicletas)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[16.172,18.608,20.299,21.481,20.337,22.021,23.671,20.481,17.475,16.838,14.205,14.276],"text":["Ano: 2007<br />Valor/1000:  16.172","Ano: 2008<br />Valor/1000:  18.608","Ano: 2009<br />Valor/1000:  20.299","Ano: 2010<br />Valor/1000:  21.481","Ano: 2011<br />Valor/1000:  20.337","Ano: 2012<br />Valor/1000:  22.021","Ano: 2013<br />Valor/1000:  23.671","Ano: 2014<br />Valor/1000:  20.481","Ano: 2015<br />Valor/1000:  17.475","Ano: 2016<br />Valor/1000:  16.838","Ano: 2017<br />Valor/1000:  14.205","Ano: 2018<br />Valor/1000:  14.276"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(100,178,0,1)","dash":"solid"},"hoveron":"points","name":"4.5Equipamentos de informática e comunicação","legendgroup":"4.5Equipamentos de informática e comunicação","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[21.027,21.736,20.721,22.886,25.649,23.932,28.04,28.341,28.399,26.926,28.214,27.283],"text":["Ano: 2007<br />Valor/1000:  21.027","Ano: 2008<br />Valor/1000:  21.736","Ano: 2009<br />Valor/1000:  20.721","Ano: 2010<br />Valor/1000:  22.886","Ano: 2011<br />Valor/1000:  25.649","Ano: 2012<br />Valor/1000:  23.932","Ano: 2013<br />Valor/1000:  28.040","Ano: 2014<br />Valor/1000:  28.341","Ano: 2015<br />Valor/1000:  28.399","Ano: 2016<br />Valor/1000:  26.926","Ano: 2017<br />Valor/1000:  28.214","Ano: 2018<br />Valor/1000:  27.283"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,184,27,1)","dash":"solid"},"hoveron":"points","name":"3.4Comércio de equipamentos e artigos de uso pessoal e doméstico","legendgroup":"3.4Comércio de equipamentos e artigos de uso pessoal e doméstico","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[23.256,22.818,26.016,26.882,28.412,29.511,27.708,30.162,28.125,27.992,27.852,28.64],"text":["Ano: 2007<br />Valor/1000:  23.256","Ano: 2008<br />Valor/1000:  22.818","Ano: 2009<br />Valor/1000:  26.016","Ano: 2010<br />Valor/1000:  26.882","Ano: 2011<br />Valor/1000:  28.412","Ano: 2012<br />Valor/1000:  29.511","Ano: 2013<br />Valor/1000:  27.708","Ano: 2014<br />Valor/1000:  30.162","Ano: 2015<br />Valor/1000:  28.125","Ano: 2016<br />Valor/1000:  27.992","Ano: 2017<br />Valor/1000:  27.852","Ano: 2018<br />Valor/1000:  28.640"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,189,92,1)","dash":"solid"},"hoveron":"points","name":"3.5.2Outros produtos intermediários","legendgroup":"3.5.2Outros produtos intermediários","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[22.42,28.217,29.293,29.784,27.765,31.431,33.307,33.715,31.486,22.553,21.366,21.249],"text":["Ano: 2007<br />Valor/1000:  22.420","Ano: 2008<br />Valor/1000:  28.217","Ano: 2009<br />Valor/1000:  29.293","Ano: 2010<br />Valor/1000:  29.784","Ano: 2011<br />Valor/1000:  27.765","Ano: 2012<br />Valor/1000:  31.431","Ano: 2013<br />Valor/1000:  33.307","Ano: 2014<br />Valor/1000:  33.715","Ano: 2015<br />Valor/1000:  31.486","Ano: 2016<br />Valor/1000:  22.553","Ano: 2017<br />Valor/1000:  21.366","Ano: 2018<br />Valor/1000:  21.249"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,192,133,1)","dash":"solid"},"hoveron":"points","name":"3.8Comércio não-especializado","legendgroup":"3.8Comércio não-especializado","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[27.106,27.06,29.978,30.993,32.684,34.217,32.506,34.861,32.652,32.732,32.452,33.117],"text":["Ano: 2007<br />Valor/1000:  27.106","Ano: 2008<br />Valor/1000:  27.060","Ano: 2009<br />Valor/1000:  29.978","Ano: 2010<br />Valor/1000:  30.993","Ano: 2011<br />Valor/1000:  32.684","Ano: 2012<br />Valor/1000:  34.217","Ano: 2013<br />Valor/1000:  32.506","Ano: 2014<br />Valor/1000:  34.861","Ano: 2015<br />Valor/1000:  32.652","Ano: 2016<br />Valor/1000:  32.732","Ano: 2017<br />Valor/1000:  32.452","Ano: 2018<br />Valor/1000:  33.117"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,193,167,1)","dash":"solid"},"hoveron":"points","name":"3.5Comércio de produtos intermediários, resíduos e sucatas","legendgroup":"3.5Comércio de produtos intermediários, resíduos e sucatas","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[32.246,33.982,36.542,40.642,39.935,42.781,43.893,44.932,41.456,39.527,41.251,41.341],"text":["Ano: 2007<br />Valor/1000:  32.246","Ano: 2008<br />Valor/1000:  33.982","Ano: 2009<br />Valor/1000:  36.542","Ano: 2010<br />Valor/1000:  40.642","Ano: 2011<br />Valor/1000:  39.935","Ano: 2012<br />Valor/1000:  42.781","Ano: 2013<br />Valor/1000:  43.893","Ano: 2014<br />Valor/1000:  44.932","Ano: 2015<br />Valor/1000:  41.456","Ano: 2016<br />Valor/1000:  39.527","Ano: 2017<br />Valor/1000:  41.251","Ano: 2018<br />Valor/1000:  41.341"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"3.3Produtos alimentícios, bebidas e fumo","legendgroup":"3.3Produtos alimentícios, bebidas e fumo","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[35.456,39.898,39.968,40.733,38.143,40.283,45.617,48.051,48.926,46.486,49.846,44.559],"text":["Ano: 2007<br />Valor/1000:  35.456","Ano: 2008<br />Valor/1000:  39.898","Ano: 2009<br />Valor/1000:  39.968","Ano: 2010<br />Valor/1000:  40.733","Ano: 2011<br />Valor/1000:  38.143","Ano: 2012<br />Valor/1000:  40.283","Ano: 2013<br />Valor/1000:  45.617","Ano: 2014<br />Valor/1000:  48.051","Ano: 2015<br />Valor/1000:  48.926","Ano: 2016<br />Valor/1000:  46.486","Ano: 2017<br />Valor/1000:  49.846","Ano: 2018<br />Valor/1000:  44.559"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,186,222,1)","dash":"solid"},"hoveron":"points","name":"4.4Combustíveis e lubrificantes","legendgroup":"4.4Combustíveis e lubrificantes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[44.851,48.94,50.814,80.073,83.581,76.095,71.618,74.253,81.743,72.727,72.028,67.526],"text":["Ano: 2007<br />Valor/1000:  44.851","Ano: 2008<br />Valor/1000:  48.940","Ano: 2009<br />Valor/1000:  50.814","Ano: 2010<br />Valor/1000:  80.073","Ano: 2011<br />Valor/1000:  83.581","Ano: 2012<br />Valor/1000:  76.095","Ano: 2013<br />Valor/1000:  71.618","Ano: 2014<br />Valor/1000:  74.253","Ano: 2015<br />Valor/1000:  81.743","Ano: 2016<br />Valor/1000:  72.727","Ano: 2017<br />Valor/1000:  72.028","Ano: 2018<br />Valor/1000:  67.526"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,178,243,1)","dash":"solid"},"hoveron":"points","name":"4.1.2Outros tipos de comércio não-especializado","legendgroup":"4.1.2Outros tipos de comércio não-especializado","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[95.461,49.297,83.601,82.916,72.693,82.01,91.324,94.376,98.757,106.041,97.731,107.14],"text":["Ano: 2007<br />Valor/1000:  95.461","Ano: 2008<br />Valor/1000:  49.297","Ano: 2009<br />Valor/1000:  83.601","Ano: 2010<br />Valor/1000:  82.916","Ano: 2011<br />Valor/1000:  72.693","Ano: 2012<br />Valor/1000:  82.010","Ano: 2013<br />Valor/1000:  91.324","Ano: 2014<br />Valor/1000:  94.376","Ano: 2015<br />Valor/1000:  98.757","Ano: 2016<br />Valor/1000: 106.041","Ano: 2017<br />Valor/1000:  97.731","Ano: 2018<br />Valor/1000: 107.140"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,166,255,1)","dash":"solid"},"hoveron":"points","name":"4.2Produtos alimentícios, bebidas e fumo","legendgroup":"4.2Produtos alimentícios, bebidas e fumo","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[66.651,96.538,90.856,92.866,100.528,105.327,103.773,116.359,107.445,102.052,88.606,98.061],"text":["Ano: 2007<br />Valor/1000:  66.651","Ano: 2008<br />Valor/1000:  96.538","Ano: 2009<br />Valor/1000:  90.856","Ano: 2010<br />Valor/1000:  92.866","Ano: 2011<br />Valor/1000: 100.528","Ano: 2012<br />Valor/1000: 105.327","Ano: 2013<br />Valor/1000: 103.773","Ano: 2014<br />Valor/1000: 116.359","Ano: 2015<br />Valor/1000: 107.445","Ano: 2016<br />Valor/1000: 102.052","Ano: 2017<br />Valor/1000:  88.606","Ano: 2018<br />Valor/1000:  98.061"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(124,150,255,1)","dash":"solid"},"hoveron":"points","name":"2.Comércio de veículos, peças e motocicletas","legendgroup":"2.Comércio de veículos, peças e motocicletas","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[78.948,85.322,95.494,104.222,110.101,119.779,134.514,134.798,135.699,152.469,156.78,162.735],"text":["Ano: 2007<br />Valor/1000:  78.948","Ano: 2008<br />Valor/1000:  85.322","Ano: 2009<br />Valor/1000:  95.494","Ano: 2010<br />Valor/1000: 104.222","Ano: 2011<br />Valor/1000: 110.101","Ano: 2012<br />Valor/1000: 119.779","Ano: 2013<br />Valor/1000: 134.514","Ano: 2014<br />Valor/1000: 134.798","Ano: 2015<br />Valor/1000: 135.699","Ano: 2016<br />Valor/1000: 152.469","Ano: 2017<br />Valor/1000: 156.780","Ano: 2018<br />Valor/1000: 162.735"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(179,133,255,1)","dash":"solid"},"hoveron":"points","name":"4.1.1Hiper/Supermercado","legendgroup":"4.1.1Hiper/Supermercado","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[112.077,121.41,136.294,128.075,142.262,136.685,137.64,165.509,152.358,147.023,137.371,134.05],"text":["Ano: 2007<br />Valor/1000: 112.077","Ano: 2008<br />Valor/1000: 121.410","Ano: 2009<br />Valor/1000: 136.294","Ano: 2010<br />Valor/1000: 128.075","Ano: 2011<br />Valor/1000: 142.262","Ano: 2012<br />Valor/1000: 136.685","Ano: 2013<br />Valor/1000: 137.640","Ano: 2014<br />Valor/1000: 165.509","Ano: 2015<br />Valor/1000: 152.358","Ano: 2016<br />Valor/1000: 147.023","Ano: 2017<br />Valor/1000: 137.371","Ano: 2018<br />Valor/1000: 134.050"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(216,116,253,1)","dash":"solid"},"hoveron":"points","name":"4.3Tecidos, artigos de armarinho, vestuário e calçados","legendgroup":"4.3Tecidos, artigos de armarinho, vestuário e calçados","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[132.5,143.931,150.146,160.155,159.477,168.48,177.583,184.928,178.605,167.173,168.648,167.625],"text":["Ano: 2007<br />Valor/1000: 132.500","Ano: 2008<br />Valor/1000: 143.931","Ano: 2009<br />Valor/1000: 150.146","Ano: 2010<br />Valor/1000: 160.155","Ano: 2011<br />Valor/1000: 159.477","Ano: 2012<br />Valor/1000: 168.480","Ano: 2013<br />Valor/1000: 177.583","Ano: 2014<br />Valor/1000: 184.928","Ano: 2015<br />Valor/1000: 178.605","Ano: 2016<br />Valor/1000: 167.173","Ano: 2017<br />Valor/1000: 168.648","Ano: 2018<br />Valor/1000: 167.625"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(239,103,235,1)","dash":"solid"},"hoveron":"points","name":"3.Comércio por atacado","legendgroup":"3.Comércio por atacado","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[123.799,134.262,146.308,184.295,193.682,195.874,206.132,209.051,217.442,225.196,228.808,230.261],"text":["Ano: 2007<br />Valor/1000: 123.799","Ano: 2008<br />Valor/1000: 134.262","Ano: 2009<br />Valor/1000: 146.308","Ano: 2010<br />Valor/1000: 184.295","Ano: 2011<br />Valor/1000: 193.682","Ano: 2012<br />Valor/1000: 195.874","Ano: 2013<br />Valor/1000: 206.132","Ano: 2014<br />Valor/1000: 209.051","Ano: 2015<br />Valor/1000: 217.442","Ano: 2016<br />Valor/1000: 225.196","Ano: 2017<br />Valor/1000: 228.808","Ano: 2018<br />Valor/1000: 230.261"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(253,97,211,1)","dash":"solid"},"hoveron":"points","name":"4.1Comércio não-especializado","legendgroup":"4.1Comércio não-especializado","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[243.143,263.198,274.727,281.207,304.785,358.757,360.45,363.5,348.121,340.201,325.71,316.028],"text":["Ano: 2007<br />Valor/1000: 243.143","Ano: 2008<br />Valor/1000: 263.198","Ano: 2009<br />Valor/1000: 274.727","Ano: 2010<br />Valor/1000: 281.207","Ano: 2011<br />Valor/1000: 304.785","Ano: 2012<br />Valor/1000: 358.757","Ano: 2013<br />Valor/1000: 360.450","Ano: 2014<br />Valor/1000: 363.500","Ano: 2015<br />Valor/1000: 348.121","Ano: 2016<br />Valor/1000: 340.201","Ano: 2017<br />Valor/1000: 325.710","Ano: 2018<br />Valor/1000: 316.028"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(255,99,182,1)","dash":"solid"},"hoveron":"points","name":"4.6Comércio de outros produtos em lojas especializadas","legendgroup":"4.6Comércio de outros produtos em lojas especializadas","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[627.032,627.384,701.934,739.463,772.83,836.477,865.816,901.919,883.993,882.57,854.352,847.109],"text":["Ano: 2007<br />Valor/1000: 627.032","Ano: 2008<br />Valor/1000: 627.384","Ano: 2009<br />Valor/1000: 701.934","Ano: 2010<br />Valor/1000: 739.463","Ano: 2011<br />Valor/1000: 772.830","Ano: 2012<br />Valor/1000: 836.477","Ano: 2013<br />Valor/1000: 865.816","Ano: 2014<br />Valor/1000: 901.919","Ano: 2015<br />Valor/1000: 883.993","Ano: 2016<br />Valor/1000: 882.570","Ano: 2017<br />Valor/1000: 854.352","Ano: 2018<br />Valor/1000: 847.109"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(255,107,148,1)","dash":"solid"},"hoveron":"points","name":"4.Comércio varejista","legendgroup":"4.Comércio varejista","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"marker":{"showscale":false}}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":43.1050228310502},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,12.6],"tickmode":"array","ticktext":["2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12],"categoryorder":"array","categoryarray":["2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Ano","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-44.3809,946.9809],"tickmode":"array","ticktext":["0","250","500","750"],"tickvals":[0,250,500,750],"categoryorder":"array","categoryarray":["0","250","500","750"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Divisão de comércio e grupo de atividade","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.93503937007874},"annotations":[],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"2aa04fd4296c":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"2aa04fd4296c","visdat":{"2aa04fd4296c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly",".hideLegend":true},"evals":[],"jsHooks":[]}</script>
